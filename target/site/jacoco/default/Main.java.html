<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">lab1</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">import com.itmo.siaod.lsh.model.GeneralLine;
import com.itmo.siaod.lsh.model.ILine;
import com.itmo.siaod.lsh.model.Point;
import com.itmo.siaod.lsh.similarity_identifier.ISimilarityIdentifier;
import com.itmo.siaod.lsh.similarity_identifier.SimilarityIdentifier;
import com.itmo.siaod.perfect_hash.exceptions.CollisionException;
import com.itmo.siaod.perfect_hash.exceptions.TooBigNumberException;
import com.itmo.siaod.perfect_hash.profiler.Profiler;
import com.itmo.siaod.perfect_hash.profiler.ProfilingReport;

import java.util.ArrayList;
import java.util.List;

import static java.lang.Thread.sleep;

<span class="nc" id="L16">public class Main {</span>
    public static void main(String[] args) throws TooBigNumberException, CollisionException {
        //Profiler.profilePerfectHash();
        //Profiler pr = new Profiler();
        //ProfilingReport r1 = pr.profileHashTableSiaodOperations(1_000_000, 10_000_000);
        //ProfilingReport r2 = pr.profileHashTableSiaodOperations(2_000_000, 10_000_000);
        //ProfilingReport r3 = pr.profileHashTableSiaodOperations(3_000_000, 10_000_000);
        //ProfilingReport r4 = pr.profileHashTableSiaodOperations(4_000_000, 10_000_000);
        //ProfilingReport r5 = pr.profileHashTableSiaodOperations(5_000_000, 10_000_000);
        //ArrayList&lt;ProfilingReport&gt; reports = new ArrayList&lt;&gt;();
        //reports.add(r1);
        //reports.add(r2);
        //reports.add(r3);
        //reports.add(r4);
        //reports.add(r5);
        //ProfilingReport.print(reports);

        //List&lt;List&lt;List&lt;Double&gt;&gt;&gt; allTimings = new ArrayList&lt;&gt;();
        //int init = 100;
        //int iterations = 30;
        //for (Integer i = 0; i &lt; 20; i++){
        //    List&lt;List&lt;Double&gt;&gt; iTimings = new ArrayList&lt;&gt;();
        //    for (int iter = 0; iter &lt; iterations; iter++){
        //        List&lt;Point&gt; points = Point.generateRandomPoints(init * (i + 1), 100_000_000);
        //        List&lt;Double&gt; timings = new ArrayList&lt;&gt;();
        //        ISimilarityIdentifier similarityIdentifier = new SimilarityIdentifier(points, timings);
        //        iTimings.add(timings);
        //    }
        //    allTimings.add(iTimings);
        //}

        //for (int i = 0; i &lt; allTimings.size(); i++){
        //    System.out.println(avgs(allTimings.get(i)));
        //}
        //List&lt;Point&gt; points = Point.generateRandomPoints(1_000_000, 100_000_000);
<span class="nc" id="L51">        List&lt;Point&gt; points = List.of(new Point(800,800), new Point(801,801), new Point(1000, 1000));</span>
<span class="nc" id="L52">        List&lt;Double&gt; timings = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L53">        ISimilarityIdentifier similarityIdentifier = new SimilarityIdentifier(points, timings);</span>
<span class="nc" id="L54">        System.out.println(similarityIdentifier.toString());</span>
<span class="nc" id="L55">    }</span>

    public static List&lt;Double&gt; avgs(List&lt;List&lt;Double&gt;&gt; data){
<span class="nc" id="L58">        List&lt;Double&gt; avgs = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L59" title="All 2 branches missed.">        for (int i = 0; i &lt; data.getFirst().size(); i++){</span>
<span class="nc" id="L60">            avgs.add(0d);</span>
        }
<span class="nc bnc" id="L62" title="All 2 branches missed.">        for (int i = 0; i &lt; data.size(); i++){</span>
<span class="nc" id="L63">            List&lt;Double&gt; row = data.get(i);</span>
<span class="nc bnc" id="L64" title="All 2 branches missed.">            for (int j = 0; j &lt; row.size(); j++){</span>
<span class="nc" id="L65">                avgs.set(j, avgs.get(j) + row.get(j));</span>
            }
        }
<span class="nc bnc" id="L68" title="All 2 branches missed.">        for (int i = 0; i &lt; data.getFirst().size(); i++){</span>
<span class="nc" id="L69">            avgs.set(i, avgs.get(i) / data.size());</span>
        }
<span class="nc" id="L71">        return avgs;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>